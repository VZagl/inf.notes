# React Native CLI

## Введение

**React Native CLI** — это официальный инструмент командной строки для создания, настройки и управления проектами **React Native** без использования **Expo**. Позволяет работать с нативным кодом, интегрировать сторонние библиотеки и полностью контролировать процесс сборки.

---

## Установка

Для глобальной установки CLI:

```bash
npm install -g react-native-cli
```

> Обычно для создания проектов используется `npx`, поэтому глобальная установка не обязательна.

---

## Создание нового проекта

```bash
npx react-native init MyProject
```

- Создаёт папку с проектом, настраивает структуру, устанавливает зависимости.

---

## Основные команды CLI

- `npx react-native run-android` — сборка и запуск приложения на Android-эмуляторе или устройстве.
- `npx react-native run-ios` — сборка и запуск на iOS-симуляторе (только на macOS).
- `npx react-native start` — запуск Metro Bundler (пакетный сервер для JS-кода).
- `npx react-native link` — автоматическое связывание нативных модулей (для старых пакетов).
- `npx react-native doctor` — проверка окружения и зависимостей.
- `npx react-native clean` — очистка временных файлов сборки (может потребоваться вручную).

---

## Структура проекта

- `android/` — исходники и настройки Android-приложения (Java/Kotlin, Gradle).
- `ios/` — исходники и настройки iOS-приложения (Objective-C/Swift, Xcode).
- `App.js` — основной JS-файл приложения.
- `index.js` — точка входа JS-кода.
- `package.json` — зависимости и скрипты.
- `node_modules/` — установленные npm-пакеты.

---

## Настройка окружения

- **Node.js** — среда выполнения JS.
- **Java JDK** — для Android.
- **Android Studio** — эмулятор и инструменты сборки Android.
- **Xcode** — для сборки и запуска на iOS (только macOS).
- **Watchman** (рекомендуется для macOS) — ускоряет отслеживание изменений файлов.

Подробная инструкция: [React Native Environment Setup](https://reactnative.dev/docs/environment-setup)

---

## Работа с нативными модулями

1. Установить npm-пакет с нативным модулем:
   ```bash
   npm install <package-name>
   ```
2. Для старых пакетов выполнить:
   ```bash
   npx react-native link
   ```
   Для современных пакетов (с автолинком) этот шаг не требуется.
3. При необходимости вручную добавить зависимости в Xcode/Android Studio.

---

## Отличия React Native CLI от Expo

| React Native CLI                         | Expo                                               |
| ---------------------------------------- | -------------------------------------------------- |
| Полный доступ к нативному коду           | Нет доступа к нативному коду по умолчанию          |
| Можно использовать любые нативные модули | Ограниченный набор библиотек                       |
| Требует настройки окружения              | Простая установка, не требует Xcode/Android Studio |
| Гибкая настройка сборки                  | Ограниченная кастомизация                          |

---

## Типовой рабочий процесс

1. Создать проект: `npx react-native init MyProject`
2. Открыть проект в редакторе кода.
3. Запустить Metro Bundler: `npx react-native start`
4. Запустить приложение на эмуляторе/устройстве:
   - Android: `npx react-native run-android`
   - iOS: `npx react-native run-ios`
5. Вносить изменения в JS/TS-код, сохранять — приложение обновляется автоматически.

---

## Полезные команды

- `npx react-native log-android` — просмотр логов Android.
- `npx react-native log-ios` — просмотр логов iOS.
- `npx react-native upgrade` — обновление версии React Native в проекте.

---

## Полезные ссылки

- [Официальная документация React Native CLI](https://reactnative.dev/docs/environment-setup)
- [Список CLI-команд](https://reactnative.dev/docs/cli)

---

## Советы

- Всегда проверяйте совместимость библиотек с вашей версией React Native.
- Используйте систему контроля версий (Git).
- Регулярно обновляйте зависимости.
- Для сложных нативных интеграций изучайте документацию Android/iOS.
