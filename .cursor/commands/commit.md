# commit

## Назначение

Генерирует сообщение коммита на основе проанализированных staged-файлов по правилам из `docs/git-commit-description.md` (указатель — `.cursor/rules/git.mdc`).

## Алгоритм

1. Выполнить `git status` и убедиться, что есть staged файлы. Если нет — попросить добавить через `git add`.
2. Изучить изменения командой `git diff --staged`, чтобы понять что и зачем изменено. Если diff пуст — вывести «Нет файлов, добавленных для коммита.» и завершить. Один коммит — одна логическая задача; крупные изменения дробить.
3. Сформировать сообщение по правилам из `docs/git-commit-description.md`.
4. Сообщение выводить в кодовом блоке для удобного копирования пользователем; итоговый текст коммита сохранять без обрамляющих ```.
5. После вывода сообщения запросить подтверждение у пользователя для выполнения коммита. Предложить выполнить коммит с сгенерированным сообщением. Если пользователь подтверждает (через кнопку подтверждения или текстовое подтверждение типа "да", "ок", "выполни", "commit" и т.п.), выполнить команду `git commit -m "<сообщение>"`, где `<сообщение>` — это сгенерированное сообщение коммита (без обрамляющих ```). Если пользователь отказывается или не подтверждает — завершить выполнение команды без создания коммита.

## Формат сообщения

См. правила в `docs/git-commit-description.md`.
