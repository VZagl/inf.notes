# commit

## Назначение

Генерирует сообщение коммита на основе проанализированных staged-файлов.

## Алгоритм

1. Выполнить `git status` и убедиться, что есть staged файлы. Если нет — попросить добавить через `git add`.
2. Изучить изменения командой `git diff --staged`, чтобы понять что и зачем изменено. Если diff пуст — вывести «Нет файлов, добавленных для коммита.» и завершить. Один коммит — одна логическая задача; крупные изменения дробить.
3. Сформировать заголовок на русском языке, в повелительном наклонении, максимум 50 символов, без точки и двоеточий. Действие указывать глаголом («Добавить», «Исправить», «Обновить» и т.п.). Не использовать формы с «й» (добавь) и прошедшее время (добавил). Первая буква — заглавная, остальные строчные (кроме имён собственных).
4. После заголовка оставить пустую строку.
5. В теле — маркированный список, описывающий ЧТО изменено и ПОЧЕМУ (не как), опираясь на diff. Строки тела — максимум 72 символа. Упоминать конкретные компоненты/конфиги/плагины и стековые термины. Ссылки на issue в теле не указывать.
6. При наличии задачи/issue вынести её в футер формата `Closes #123` или `Fixes #123`, отделив футер от тела пустой строкой. Каждая ссылка на задачу — отдельной строкой футера.
7. Сообщение выводить в кодовом блоке для удобного копирования ассистентом; итоговый текст коммита сохранять без обрамляющих ``` в VCS.

## Формат сообщения

- Строка 1: Заголовок «Действие описание» (глагол из списка, с заглавной буквы, остальное строчные, максимум 50 символов, без точки и двоеточия, без префиксов feat:/fix:).
- Строка 2: Пустая.
- Далее: Список маркеров с деталями изменений и мотивацией. Строки списка — максимум 72 символа. Явно называть изменённые компоненты/конфиги/плагины.
- Далее (опционально): Пустая строка и футер с ссылками на задачи в формате `Closes #123` или `Fixes #123`. Если задач несколько — каждая ссылка с новой строки футера.

## Примеры

- Для новых файлов: 'Добавить [тип] [название]'
- Для исправлений: 'Исправить [проблему] в [компоненте]'
- Для рефакторинга: 'Рефакторить [компонент] для [цели]'
- Для React/React Native: 'Добавить компонент UserProfile'
- Для API: 'Исправить валидацию в POST /users'
- Для базы данных: 'Добавить миграцию для таблицы users'
- Для конфигурации: 'Настроить webpack для production'
- Для настроек инструмента: 'Настроить плагин [название плагина]'
- Для настроек IDE: 'Настроить VS Code: линтинг'
- Для стилей: 'Обновить CSS для мобильных устройств'
- Для настройки промптов Continue: 'Настроить плагин Continue: обновить prompt для коммитов'

```
Добавить кэширование погоды

- сохранить ответы API в память на 5 минут, чтобы снизить нагрузку
- использовать кэш только для успешных ответов
- обновить тесты для проверки работы кэша

Closes #123
```

```
Исправить ошибку загрузки профиля

- корректно обрабатывать 404 и показывать уведомление пользователю
- добавить логирование кода ответа сервера
- обновить e2e-тест на сценарий отсутствующего профиля
```
