# Конспект по pnpm

## Что такое pnpm?

**pnpm** — это быстрый, эффективный и дисковое пространство-экономящий менеджер пакетов для Node.js. Он является альтернативой npm и Yarn.

## Основные особенности

- **Жесткие ссылки:** pnpm использует жесткие ссылки для хранения пакетов, что экономит место на диске.
- **Высокая скорость:** благодаря кэшированию и параллельной установке пакетов.
- **Изоляция зависимостей:** каждая зависимость устанавливается только один раз и используется всеми проектами.
- **Совместимость с npm:** поддерживает большинство команд и форматов npm.

## Установка

```bash
npm install -g pnpm
```

## Основные команды

| Команда                 | Описание                          |
| ----------------------- | --------------------------------- |
| `pnpm install`          | Установить все зависимости        |
| `pnpm add <pkg>`        | Добавить пакет                    |
| `pnpm remove <pkg>`     | Удалить пакет                     |
| `pnpm update`           | Обновить зависимости              |
| `pnpm install -g <pkg>` | Глобальная установка пакета       |
| `pnpm list`             | Список установленных пакетов      |
| `pnpm run <script>`     | Запустить npm-скрипт              |
| `pnpm exec <cmd>`       | Выполнить команду из зависимостей |

### `pnpm exec`

Команда `pnpm exec` позволяет запускать бинарные файлы, установленные в зависимостях проекта, без необходимости указывать полный путь.

**Пример использования:**

```bash
pnpm exec eslint src/
```

Это выполнит `eslint`, установленный в вашем проекте.

## Работа с монорепозиториями

pnpm поддерживает работу с монорепозиториями через [Workspaces](https://pnpm.io/workspaces).

**Пример `pnpm-workspace.yaml`:**

```yaml
packages:
	- 'packages/*'
	- 'libs/*'
```

## Кэширование

- Все пакеты кэшируются в одной директории (`~/.pnpm-store`).
- Повторная установка происходит мгновенно.

## Конфигурация

Настройки можно задать в `.npmrc` или через команду:

```bash
pnpm config set <key> <value>
```

## Преимущества pnpm

- Экономия места на диске.
- Быстрая установка.
- Легкая интеграция с CI/CD.
- Совместимость с экосистемой npm.

## Полезные ссылки

- [Официальный сайт](https://pnpm.io/)
